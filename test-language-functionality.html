<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Switching Test - Hi Emma</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #0f172a;
            color: #f8fafc;
            margin: 0;
            padding: 2rem;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(30, 41, 59, 0.8);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        .test-section {
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 8px;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        .test-title {
            color: #3b82f6;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 0.5rem;
        }
        .test-item {
            margin-bottom: 1rem;
            padding: 0.5rem;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 6px;
        }
        .test-button {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 0.5rem;
            transition: all 0.3s ease;
        }
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }
        .status {
            padding: 0.5rem;
            border-radius: 6px;
            margin: 0.5rem 0;
            font-weight: 500;
        }
        .status.success {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid #22c55e;
        }
        .status.error {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid #ef4444;
        }
        .status.info {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            border: 1px solid #3b82f6;
        }
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        .lang-switch-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 25px;
            padding: 0.25rem;
            backdrop-filter: blur(10px);
        }
        .lang-label {
            padding: 0.5rem 0.75rem;
            font-weight: 600;
            color: #94a3b8;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .lang-label.active {
            color: #3b82f6;
        }
        .lang-switch {
            position: relative;
            width: 60px;
            height: 32px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .lang-switch-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 26px;
            height: 26px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .lang-flag {
            font-size: 0.9rem;
        }
        .lang-switch.ar .lang-switch-slider {
            left: auto;
            right: 2px;
        }
    </style>
</head>
<body>
    <!-- Language Switcher -->
    <div class="language-switcher" id="language-switcher">
        <div class="lang-switch-container">
            <span class="lang-label" data-lang="en">EN</span>
            <div class="lang-switch" id="lang-switch" onclick="toggleLanguage()">
                <div class="lang-switch-slider">
                    <span class="lang-flag">ðŸ‡ºðŸ‡¸</span>
                </div>
            </div>
            <span class="lang-label" data-lang="ar">AR</span>
        </div>
    </div>

    <div class="test-container">
        <h1>Language Switching Test - Hi Emma</h1>
        
        <div class="test-section">
            <h2 class="test-title">Translation Engine Status</h2>
            <div id="engine-status" class="status info">Checking translation engine...</div>
            <div id="translations-status" class="status info">Checking translations...</div>
            <div id="switcher-status" class="status info">Checking language switcher...</div>
        </div>

        <div class="test-section">
            <h2 class="test-title">Language Switching Tests</h2>
            <div class="test-item">
                <strong>Current Language:</strong> <span id="current-lang">Unknown</span>
            </div>
            <div class="test-item">
                <strong>Document Direction:</strong> <span id="document-dir">Unknown</span>
            </div>
            <div class="test-item">
                <strong>RTL Support:</strong> <span id="rtl-support">Unknown</span>
            </div>
            <button class="test-button" onclick="testLanguageSwitch()">Test Language Switch</button>
            <button class="test-button" onclick="testRTLSupport()">Test RTL Support</button>
            <button class="test-button" onclick="testBrandTranslation()">Test Brand Translation</button>
        </div>

        <div class="test-section">
            <h2 class="test-title">Content Translation Tests</h2>
            <div class="test-item">
                <strong>Brand Name:</strong> <span id="brand-name">Hi Emma</span>
            </div>
            <div class="test-item">
                <strong>Navigation:</strong> <span id="nav-links">Home, About, Pricing, Resources, Contact</span>
            </div>
            <div class="test-item">
                <strong>Hero Title:</strong> <span id="hero-title">Meet Emma</span>
            </div>
            <button class="test-button" onclick="testContentTranslation()">Test Content Translation</button>
            <button class="test-button" onclick="testIndustryCards()">Test Industry Cards</button>
        </div>

        <div class="test-section">
            <h2 class="test-title">Test Results</h2>
            <div id="test-results"></div>
        </div>
    </div>

    <!-- Include translation files -->
    <script src="/js/translations.js"></script>
    <script src="/js/translation-engine.js"></script>

    <script>
        // Test functions
        function updateStatus() {
            // Check translation engine
            const engineStatus = document.getElementById('engine-status');
            if (window.translationEngine) {
                engineStatus.textContent = 'Translation Engine: Loaded âœ“';
                engineStatus.className = 'status success';
            } else {
                engineStatus.textContent = 'Translation Engine: Not Found âœ—';
                engineStatus.className = 'status error';
            }

            // Check translations
            const translationsStatus = document.getElementById('translations-status');
            if (window.translations && window.translations.en && window.translations.ar) {
                translationsStatus.textContent = 'Translations: Loaded (EN + AR) âœ“';
                translationsStatus.className = 'status success';
            } else {
                translationsStatus.textContent = 'Translations: Missing âœ—';
                translationsStatus.className = 'status error';
            }

            // Check language switcher
            const switcherStatus = document.getElementById('switcher-status');
            const switcher = document.getElementById('language-switcher');
            if (switcher) {
                switcherStatus.textContent = 'Language Switcher: Found âœ“';
                switcherStatus.className = 'status success';
            } else {
                switcherStatus.textContent = 'Language Switcher: Not Found âœ—';
                switcherStatus.className = 'status error';
            }

            // Update current language info
            if (window.translationEngine) {
                document.getElementById('current-lang').textContent = window.translationEngine.getCurrentLanguage();
                document.getElementById('document-dir').textContent = document.documentElement.getAttribute('dir') || 'ltr';
                document.getElementById('rtl-support').textContent = window.translationEngine.isRTL() ? 'Enabled' : 'Disabled';
            }
        }

        function testLanguageSwitch() {
            const results = document.getElementById('test-results');
            if (!window.translationEngine) {
                results.innerHTML += '<div class="status error">Error: Translation engine not available</div>';
                return;
            }

            const currentLang = window.translationEngine.getCurrentLanguage();
            const newLang = currentLang === 'en' ? 'ar' : 'en';
            
            results.innerHTML += `<div class="status info">Switching from ${currentLang.toUpperCase()} to ${newLang.toUpperCase()}...</div>`;
            
            window.translationEngine.setLanguage(newLang);
            
            setTimeout(() => {
                const finalLang = window.translationEngine.getCurrentLanguage();
                if (finalLang === newLang) {
                    results.innerHTML += `<div class="status success">âœ“ Language switch successful: ${finalLang.toUpperCase()}</div>`;
                } else {
                    results.innerHTML += `<div class="status error">âœ— Language switch failed. Expected: ${newLang}, Got: ${finalLang}</div>`;
                }
                updateStatus();
            }, 500);
        }

        function testRTLSupport() {
            const results = document.getElementById('test-results');
            if (!window.translationEngine) {
                results.innerHTML += '<div class="status error">Error: Translation engine not available</div>';
                return;
            }

            const currentLang = window.translationEngine.getCurrentLanguage();
            const isRTL = window.translationEngine.isRTL();
            const docDir = document.documentElement.getAttribute('dir');
            
            if (currentLang === 'ar' && isRTL && docDir === 'rtl') {
                results.innerHTML += '<div class="status success">âœ“ RTL support working correctly</div>';
            } else if (currentLang === 'en' && !isRTL && docDir === 'ltr') {
                results.innerHTML += '<div class="status success">âœ“ LTR support working correctly</div>';
            } else {
                results.innerHTML += `<div class="status error">âœ— RTL support issue. Lang: ${currentLang}, RTL: ${isRTL}, Dir: ${docDir}</div>`;
            }
        }

        function testBrandTranslation() {
            const results = document.getElementById('test-results');
            const brandName = document.getElementById('brand-name');
            
            if (window.translationEngine) {
                const currentLang = window.translationEngine.getCurrentLanguage();
                const brandElement = document.querySelector('.logo-text');
                
                if (brandElement) {
                    brandName.textContent = brandElement.textContent;
                    results.innerHTML += `<div class="status success">âœ“ Brand translation: "${brandElement.textContent}" (${currentLang})</div>`;
                } else {
                    results.innerHTML += '<div class="status error">âœ— Brand element not found</div>';
                }
            } else {
                results.innerHTML += '<div class="status error">Error: Translation engine not available</div>';
            }
        }

        function testContentTranslation() {
            const results = document.getElementById('test-results');
            const navLinks = document.querySelectorAll('.nav-link');
            const heroTitle = document.querySelector('#hero-title');
            
            let navTexts = [];
            navLinks.forEach(link => navTexts.push(link.textContent));
            document.getElementById('nav-links').textContent = navTexts.join(', ');
            
            if (heroTitle) {
                document.getElementById('hero-title').textContent = heroTitle.textContent;
                results.innerHTML += `<div class="status success">âœ“ Content elements found and updated</div>`;
            } else {
                results.innerHTML += '<div class="status error">âœ— Hero title element not found</div>';
            }
        }

        function testIndustryCards() {
            const results = document.getElementById('test-results');
            const industryCards = document.querySelectorAll('.industry-card');
            const capabilityCards = document.querySelectorAll('.capability-card');
            const useCaseCards = document.querySelectorAll('.use-case-card');
            
            results.innerHTML += `<div class="status info">Found ${industryCards.length} industry cards, ${capabilityCards.length} capability cards, ${useCaseCards.length} use case cards</div>`;
            
            if (industryCards.length > 0 && capabilityCards.length > 0 && useCaseCards.length > 0) {
                results.innerHTML += '<div class="status success">âœ“ All card types found</div>';
            } else {
                results.innerHTML += '<div class="status error">âœ— Some card types missing</div>';
            }
        }

        // Initialize test page
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(updateStatus, 1000);
            
            // Listen for language changes
            window.addEventListener('languageChanged', function(event) {
                updateStatus();
                const results = document.getElementById('test-results');
                results.innerHTML += `<div class="status info">Language changed event received: ${event.detail.language} (RTL: ${event.detail.isRTL})</div>`;
            });
        });

        // Global toggle function for the language switcher
        window.toggleLanguage = function() {
            if (window.translationEngine) {
                window.translationEngine.toggleLanguage();
            }
        };
    </script>
</body>
</html>

